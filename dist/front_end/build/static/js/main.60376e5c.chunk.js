(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{11:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var o=t(1),c=t.n(o),i=t(5),s=t.n(i),r=(t(11),t(2)),d=t(6),u=t(0);var a=function(){var e=Object(o.useRef)(null),n=Object(o.useState)(!1),t=Object(r.a)(n,2),c=t[0],i=t[1],s=Object(o.useState)([]),a=Object(r.a)(s,2),l=a[0],j=a[1],f=Object(o.useState)(""),b=Object(r.a)(f,2),h=b[0],p=b[1],O=Object(o.useState)(!1),g=Object(r.a)(O,2),v=g[0],x=g[1];Object(o.useEffect)((function(){fetch("/api/session").then((function(e){return e.json()})).then((function(e){console.log("result: ",e),!1===e||(i(!0),console.log("id: ",e.onlineAccessInfo.associated_user.id),p(e.onlineAccessInfo.associated_user.id),console.log("userid: ",h),m(e.onlineAccessInfo.associated_user.id))}))}),[]);var m=function(e){fetch("/api/get/"+e).then((function(e){return e.json()})).then((function(e){console.log("templates: ",e),j(e)}))};return Object(u.jsx)("div",{children:c?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){e.current.editor.loadBlank(),x(!1)},children:"New Template"}),Object(u.jsx)("button",{onClick:function(){x(!0)},children:"Edit Saved Template"}),Object(u.jsx)("button",{onClick:function(){e.current.editor.exportHtml((function(e){var n=e.design;e.html;console.log("design: ",n),fetch("/api/save/"+h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log("response for save: ",e)}))}))},children:"Save"})]}),v?Object(u.jsxs)("div",{children:["Saved Templates",l.map((function(n){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{onClick:function(){return t=n._id,void l.map((function(n){if(n._id===t)return console.log("loading: ",n._id),e.current.editor.loadDesign(n)}));var t},children:["Template ",n._id]},n._id),Object(u.jsx)("button",{onClick:function(){return t=n._id,void e.current.editor.exportHtml((function(e){var n=e.design;console.log("updated template: ",n),fetch("/api/update/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log("update result: ",e)}))}));var t},children:"Update"})]},n._id)}))]}):Object(u.jsx)("p",{}),Object(u.jsx)(d.a,{ref:e})]}):Object(u.jsx)("a",{href:"/login",children:"Login"})})},l=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),o(e),c(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(a,{})}),document.getElementById("root")),l()}},[[13,1,2]]]);
//# sourceMappingURL=main.60376e5c.chunk.js.map