(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{11:function(e,n,t){},13:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),i=t(5),s=t.n(i),r=(t(11),t(2)),u=t(6),l=t(1);var d=function(){var e=Object(o.useRef)(null),n=Object(o.useState)(!1),t=Object(r.a)(n,2),c=t[0],i=t[1],s=Object(o.useState)([]),d=Object(r.a)(s,2),a=d[0],f=d[1],j=Object(o.useState)(""),h=Object(r.a)(j,2),b=h[0],g=h[1];Object(o.useEffect)((function(){fetch("/api/session").then((function(e){return e.json()})).then((function(e){console.log("result: ",e),!1===e||(i(!0),console.log("id: ",e.onlineAccessInfo.associated_user.id),g(e.onlineAccessInfo.associated_user.id),console.log("userid: ",b),O())}))}));var O=function(){fetch("/api/get/"+b).then((function(e){return e.json()})).then((function(e){console.log("templates: ",e),f(e)}))},p=function(n){a.map((function(t){(t._id=n)&&(console.log("loading: ",t._id),e.current.editor.loadDesign(t))}))};return Object(l.jsx)("div",{children:c?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){e.current.editor.exportHtml((function(e){var n=e.design;e.html;console.log("design: ",n),console.log("export for user: ",b),fetch("/api/save/"+b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log("save")}))}))},children:"Export HTML"})}),Object(l.jsxs)("div",{children:["Saved Templates",a.map((function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("button",{onClick:function(){return p(e._id)},children:["Template ",e._id]})})}))]}),Object(l.jsx)(u.a,{ref:e,onLoad:p})]}):Object(l.jsx)("a",{href:"/login",children:"Login to continue"})})},a=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,14)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),o(e),c(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),a()}},[[13,1,2]]]);
//# sourceMappingURL=main.788ca406.chunk.js.map